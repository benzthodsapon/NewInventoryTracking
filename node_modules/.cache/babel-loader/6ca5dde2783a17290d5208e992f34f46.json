{"ast":null,"code":"var _jsxFileName = \"/Users/benzthodsapon/Desktop/InventoryTracking-main/src/Page/SelectedItemOxygen.js\",\n    _s = $RefreshSig$();\n\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport React, { useState, useEffect } from \"react\";\nimport { Card } from \"antd\";\nimport { firestore } from \"../index\";\nimport \"./detail.css\";\nimport { CheckCircleOutlined } from \"@ant-design/icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Meta\n} = Card;\n\nconst SeletedItemOxygen = () => {\n  _s();\n\n  const history = useHistory();\n  const [InventoryTracking, setInventoryTracking] = useState([{}]);\n  const [id, setId] = useState(0);\n  const [type, setType] = useState([]);\n  const [status, setStatus] = useState([]);\n  const [img, setImg] = useState([]);\n  const [location, setLocation] = useState([]);\n  const [MyBorrow, setBorrow] = useState([{}]);\n\n  const onFinish = values => {\n    let id = InventoryTracking.length === 0 ? 1 : InventoryTracking[InventoryTracking.length - 1].id + 1;\n    firestore.collection(\"Oxygentank\").doc(id + \"\").set({\n      id,\n      img,\n      location,\n      status,\n      type\n    });\n    alert(\"You Add Finish\");\n  };\n\n  const onADD = (id, img, location, status, type) => {\n    firestore.collection(\"borrow\").doc(id.toString()).set({\n      id,\n      img,\n      location,\n      status,\n      type\n    });\n    alert(\"ทำการยืมเสร็จเรียบร้อย\");\n  };\n\n  const [OxygenTank, setOxygenTank] = useState([{}]);\n\n  const retriveData = () => {\n    firestore.collection(\"OxygenTank\").onSnapshot(snapshot => {\n      let MyOxygenTank = snapshot.docs.map(d => {\n        const {\n          id,\n          status,\n          type,\n          img,\n          location\n        } = d.data();\n        return {\n          id,\n          status,\n          type,\n          img,\n          location\n        };\n      });\n      setOxygenTank(MyOxygenTank);\n    });\n  };\n\n  const retriveDataBorrow = () => {\n    firestore.collection(\"borrow\").onSnapshot(snapshot => {\n      let MyBorrow = snapshot.docs.map(d => {\n        const {\n          id,\n          img,\n          location,\n          status,\n          type\n        } = d.data();\n        return {\n          id,\n          img,\n          location,\n          status,\n          type\n        };\n      });\n      setBorrow(MyBorrow);\n    });\n  };\n\n  useEffect(() => {\n    retriveData();\n    retriveDataBorrow();\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"OxygenTankid\",\n    children: OxygenTank.map(item => {\n      var _item$id;\n\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [console.log(item.id), (item === null || item === void 0 ? void 0 : (_item$id = item.id) === null || _item$id === void 0 ? void 0 : _item$id.toString()) === history.location.pathname.substr(history.location.pathname.length - 1) && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              width: 300,\n              marginRight: \"20px\"\n            },\n            cover: /*#__PURE__*/_jsxDEV(\"img\", {\n              style: {\n                width: 200,\n                height: 250\n              },\n              alt: \"example\",\n              src: item.img\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 21\n            }, this),\n            actions: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              onClick: () => onADD(item.id, item.img, item.location, item.status, item.type),\n              children: [/*#__PURE__*/_jsxDEV(CheckCircleOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 23\n              }, this), \"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\\u0E01\\u0E32\\u0E23\\u0E22\\u0E37\\u0E21\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 21\n            }, this)],\n            children: [/*#__PURE__*/_jsxDEV(Meta, {\n              title: `รหัสอุปกรณ์ ${item.id}`,\n              description: item.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Meta, {\n              description: `สถานที่จัดเก็บ ${item.location}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SeletedItemOxygen, \"w7mY+PmiOfk5rvz9af5lGs+OHyU=\", false, function () {\n  return [useHistory];\n});\n\n_c = SeletedItemOxygen;\nexport default SeletedItemOxygen;\n\nvar _c;\n\n$RefreshReg$(_c, \"SeletedItemOxygen\");","map":{"version":3,"sources":["/Users/benzthodsapon/Desktop/InventoryTracking-main/src/Page/SelectedItemOxygen.js"],"names":["useHistory","useLocation","React","useState","useEffect","Card","firestore","CheckCircleOutlined","Meta","SeletedItemOxygen","history","InventoryTracking","setInventoryTracking","id","setId","type","setType","status","setStatus","img","setImg","location","setLocation","MyBorrow","setBorrow","onFinish","values","length","collection","doc","set","alert","onADD","toString","OxygenTank","setOxygenTank","retriveData","onSnapshot","snapshot","MyOxygenTank","docs","map","d","data","retriveDataBorrow","item","console","log","pathname","substr","width","marginRight","height"],"mappings":"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","sourcesContent":["import { useHistory, useLocation } from \"react-router-dom\";\nimport React, { useState, useEffect } from \"react\";\nimport { Card } from \"antd\";\nimport { firestore } from \"../index\";\nimport \"./detail.css\";\nimport { CheckCircleOutlined } from \"@ant-design/icons\";\n\nconst { Meta } = Card;\nconst SeletedItemOxygen = () => {\n  const history = useHistory();\n  const [InventoryTracking, setInventoryTracking] = useState([{}]);\n  const [id, setId] = useState(0);\n  const [type, setType] = useState([]);\n  const [status, setStatus] = useState([]);\n  const [img, setImg] = useState([]);\n  const [location, setLocation] = useState([]);\n  const [MyBorrow, setBorrow] = useState([{}]);\n\n  const onFinish = (values) => {\n    let id =\n      InventoryTracking.length === 0\n        ? 1\n        : InventoryTracking[InventoryTracking.length - 1].id + 1;\n    firestore\n      .collection(\"Oxygentank\")\n      .doc(id + \"\")\n      .set({ id, img, location, status, type });\n    alert(\"You Add Finish\");\n  };\n\n  const onADD = (id, img, location, status, type) => {\n    firestore\n    .collection(\"borrow\")\n    .doc(id.toString())\n    .set({ id, img, location, status, type });\n    alert(\"ทำการยืมเสร็จเรียบร้อย\");\n    };\n\n  const [OxygenTank, setOxygenTank] = useState([{}]);\n\n  const retriveData = () => {\n    firestore.collection(\"OxygenTank\").onSnapshot((snapshot) => {\n      let MyOxygenTank = snapshot.docs.map((d) => {\n        const { id, status, type, img, location } = d.data();\n        return { id, status, type, img, location };\n      });\n\n      setOxygenTank(MyOxygenTank);\n    });\n  };\n  const retriveDataBorrow = () => {\n    firestore.collection(\"borrow\").onSnapshot((snapshot) => {\n      let MyBorrow= snapshot.docs.map((d) => {\n        const { id, img, location, status, type } = d.data();\n        return { id, img, location, status, type };\n      });\n      setBorrow(MyBorrow);\n    });\n  };\n  useEffect(() =>{\n    retriveData();\n    retriveDataBorrow();\n  });\n\n  return (\n    <div className=\"OxygenTankid\">\n      {OxygenTank.map((item) => {\n        return (\n          <>\n            {console.log(item.id)}\n            {item?.id?.toString() ===\n              history.location.pathname.substr(\n                history.location.pathname.length - 1\n              ) && (\n              <div>\n                <Card\n                  style={{ width: 300, marginRight: \"20px\" }}\n                  cover={\n                    <img\n                      style={{ width: 200, height: 250 }}\n                      alt=\"example\"\n                      src={item.img}\n                    />\n                  }\n                  actions={[ \n                    <h1 onClick={() => onADD(item.id, item.img, item.location, item.status, item.type)}>\n                      <CheckCircleOutlined />\n                      ยืนยันการยืม\n                    </h1>,\n                  ]}\n                >\n                  <Meta\n                    title={`รหัสอุปกรณ์ ${item.id}`}\n                    description={item.type}\n                  />\n                  <Meta description={`สถานที่จัดเก็บ ${item.location}`} />\n                </Card>\n              </div>\n            )}\n          </>\n        );\n      })}\n    </div>\n  );\n};\nexport default SeletedItemOxygen;\n"]},"metadata":{},"sourceType":"module"}